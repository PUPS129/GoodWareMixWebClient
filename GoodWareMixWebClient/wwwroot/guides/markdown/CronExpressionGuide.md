# Руководство использования Cron выражений

Cron (Command Run On) - это система для автоматического запуска задач в определенное время.

Cron-выражения предназначены для возможности задавать периодичность и время срабатывания задач планировщика.

### Синтаксис cron-выражений

Период срабатывания определенной задачи задается посредством синтаксиса cron-выражений.

Cron-выражение - это строка, состоящая из 6 или 7 полей, отделенных между собой пробелами, где Seconds, Minutes, Day of month и др. - это хронологический параметр; YES - указание обязательности использования данного фрагмента cron-выражения; 0-59 - значение, допустимый интервал для заданного элемента cron-выражения; (* /- ,) - набор разрешенных спецсимволов.

Поля могут содержать любые из допустимых значений, а также различные комбинации специальных символов.

Примечание: подробную информацию о специальных символах смотрите в разделе контекстной справки Специальные символы.

Формат cron-выражения выглядит следующим образом:


| Имя         | Обязательно | Значение        | Разрешенные специальные символы |
|-------------|-------------|-----------------|---------------------------------|
| Секунды     | Да          | 0-59            | `,` `-` `*` `/` `R`             |
| Минуты      | Да          | 0-59            | `,` `-` `*` `/` `R`             |
| Часы        | Да          | 0-23            | `,` `-` `*` `/` `R`             |
| День месяца | Да          | 1-31            | `,` `-` `*` `/` `?` `L` `W`     |
| Месяц       | Да          | 1-2 или JAN-DEC | `,` `-` `*` `/`                 |
| День недели | Да          | 0–6 или SUN-SAT | `,` `-` `/` `?` `L` `#`         |
| Год         | Да          | 1970-2099       | `,` `-` `*` `/`                 |


### Специальные символы

В cron-выражениях используются следующие специальные символы:

* `*` - все значения в пределах одного фрагмента cron-выражения. Например, в поле "Minutes" специальный символ "*" обозначает, что задача будет выполняться каждую минуту;
* `?` - неопределенное значение. Если Вам необходимо, чтобы задача запускалась, к примеру 10 числа каждого месяца, но не важно, в какой день недели, то в поле "Day of month" необходимо установить значение "10", а в поле "Day of week" - "?";
* `-` - определение диапазонов. Например, "10-12" в поле "Hours" означает часы 10, 11 и 12;
* `,` - указание дополнительных значений. К примеру, значения "ПОНЕДЕЛЬНИК, СРЕДА, ПЯТНИЦА" в поле "Day of week" будут использоваться в cron-выражении в виде запуска задачи в понедельник, среду и пятницу;
* `/` - приращение значений. Например, "5/15" в области секунд означает "секунды 5, 20, 35, и 50, то есть значение "5" будет увеличиваться на "15";
* `L` - определение последнего дня. В поле "Day of month", к примеру, значение "L" подразумевает, что задача будет выполняться в последний день каждого месяца. В поле "Month" значение "6L" обозначает, что задача была запущена в прошлую пятницу месяца;
* `W` - определение буднего дня (понедельник-пятница). Например, в поле "Day of month" значение "15 W" будет обозначать самый близкий будний день к 15-ому из месяца, то есть если 15-м числом является суббота, задача будет запущена в пятницу 14-го. Если 15-ым числом будет воскресенье, то задача будет запущена в понедельник 16-го.

### Примеры cron-выражений
Реальные примеры, иллюстрирующие некоторые разновидности CRON-выражения.
| CRON-Выражение        | Описание                                                                          |
|-----------------------|-----------------------------------------------------------------------------------|
| `0 0 12 * * ? *`      | Срабатывание в 12:00 (полдень) каждый день.                                       |
| `0 15 10 * * ? 2016`  | Срабатывание в 10:15 каждый день в течение всего 2016 года.                       |
| `0 * 14 * * ? *`      | Срабатывание каждую минуту с 14:00 до 14:59 каждый день.                          |
| `0 0/5 14 * * ? *`    | Срабатывание каждые 5 минут с 14:00 до 14:55 каждый день.                         |
| `0 0/5 14,18 * * ? *` | Срабатывание каждые 5 минут с 14:00 до 14:55, а также каждые 5 минут с 18:00 до 18:55 каждый день. |
| `0 10,44 14 ? 3 WED *`| Срабатывание в 14:10 и 14:44 каждую среду марта.                                  |
|`0 15 10 ? * MON-FRI *`| Срабатывание в 10:15 по будням (в понедельник, вторник, среду, четверг и пятницу).|
|`0 15 10 15 * ? *`     | Срабатывание в 10:15, 15 числа каждого месяца.                                    |
|`0 15 10 ? * 5L *`     | Срабатывание в 10:15 в последнюю пятницу каждого месяца.                          |
|`0 15 10 ? * 5L 2016-2020` | Срабатывание в 10:15 в последнюю пятницу каждого месяца с 2016 по 2020 гг. включительно.  |
|`0 15 10 ? * 5#3 *`    | Срабатывание в 10:15 в 3-ю пятницу каждого месяца.                                |
|`0 0 * * * ? *`        | Срабатывание ежечасно, ежедневно.                                                 |


